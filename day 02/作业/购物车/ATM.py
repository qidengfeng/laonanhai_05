#!/usr/bin/env python 3.9# coding:utf-8"""作业二：请闭眼写出购物车程序#需求:用户名和密码存放于文件中，格式为：egon|egon123启动程序后，先登录，登录成功则让用户输入工资,然后打印商品列表，失败则重新登录，超过三次则退出程序允许用户根据商品编号购买商品用户选择商品后，检测余额是否够，够就直接扣款，不够就提醒可随时退出，退出时，打印已购买商品和余额"""# 用户名和密码存放于文件中，格式为：egon|egon123dic = {}with open("./data_info.txt",mode="rt",encoding="utf8") as f:    for i in f:        user,pwd=i.strip().split("|")        dic[user] = pwdprint(dic)# 启动程序后，先登录，登录成功则让用户输入工资,然后打印商品列表，失败则重新登录，超过三次则退出程序product_list = [['Iphone7',5800],                ['Coffee',30],                ['疙瘩汤',10],                ['Python Book',99],                ['Bike',199],                ['ViVo X9',2499],             ]count=0while True:    print( print('''    1 登陆    2 注册    3 购物    '''))    choice = input('>>: ').strip()    if choice==1:        user=input("请输入用户名>>>:").strip()        pwd=input("请输入密码>>>:").strip()        if (user in dic) and pwd == dic[user]:#判断登录是否成功            print("登录成功")            Pay=input("请输入工资>>>:").strip()#输入工资            Pay=float(Pay)            while True:                for commodity,price in enumerate(product_list):#循环打印商品列表                    print(f"商品编号:{commodity},商品名称:{price[0]},商品价格:{price[1]}元")                buy_goods=input("请输入商品编号>>>:").strip()#输入商品编号准备购买商品                if buy_goods=="Q":                    with open("product_my.txt", mode="rt", encoding="utf8") as file:                        for i in file:                            print(f"已购买商品:{i}")                    break                if buy_goods.isdigit():pass#判断输入是否是数字                else:                    print("请输入数字")                    continue                buy_goods=int(buy_goods)                if buy_goods>=0:                    pass                else:                    print("商品编号不存在")                    continue                if buy_goods <= len(product_list):                     #用户选择商品后，检测余额是否够，够就直接扣款，不够就提醒                     res=product_list[buy_goods]#根据商品编号获取商品价格                     if res[1]<=Pay:                         Pay-=res[1]                         print("商品购买成功")                         with open("product_my.txt",mode="at",encoding="utf8") as file:                             dict_info={}                             info_list=[]                             info_list.append(user)                             info_list.append(product_list[buy_goods])                             info_list.append(Pay)                             dict_info["用户"]=info_list[0]                             dict_info["商品信息"]=info_list[1]                             dict_info["工资信息"]=info_list[2]                             file.write(f"{dict_info}\n")                         continue                     else:                         print("余额不足，请选择其他商品")                         continue                else:                    print("商品编号不存在")                    continue        if user == "Q" or count == 3:  # 退出登录            print("退出登录")            break        else:            print("登录失败，用户名或密码输入错误")            count+=1            print(count)    if choice==2:        user=input("请输入用户名>>>:").strip()        pwd=input("请输入密码>>>:").strip()        print("用户名不存在，是否需要注册，1注册，2登录")        with open("data_info.txt",mode="at",encoding="utf8") as f:            info=f"\n{user}|{pwd}"            f.write(info)    if choice=="Q":#退出登录        print("退出")        break# 允许用户根据商品编号购买商品## 可随时退出，退出时，打印已购买商品和余额